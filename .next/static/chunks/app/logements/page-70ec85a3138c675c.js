(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{2820:function(e,r,s){Promise.resolve().then(s.bind(s,3343))},3343:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return c}});var n=s(7437),t=s(2265),i=s(7648),l=s(9120),o=s(8675);function c(){let[e,r]=(0,t.useState)([]),[s,c]=(0,t.useState)(!0),[a,d]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{let e=(0,o.e)();try{let{data:s,error:n}=await e.from("properties").select("id, slug, title, description, location, price_per_night, is_published").eq("is_published",!0);if(n)throw console.error("❌ Supabase error:",n),n;console.log("✅ Properties fetched:",(null==s?void 0:s.length)||0,s),r(s||[])}catch(e){console.error("❌ Erreur:",e),d("Erreur: ".concat(e.message))}finally{c(!1)}})()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.sZ,{}),(0,n.jsx)("div",{className:"page-container",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{children:"Nos logements"}),(0,n.jsx)("p",{style:{color:"#6B7280",marginBottom:"2rem"},children:"Parcourez notre s\xe9lection de g\xeetes de vacances"}),s?(0,n.jsx)("div",{children:"Chargement..."}):a?(0,n.jsxs)("div",{style:{color:"#DC2626",padding:"1rem",background:"#FEE2E2",borderRadius:"0.5rem"},children:[(0,n.jsxs)("p",{children:["❌ ",a]}),(0,n.jsx)("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem"},children:"Consultez la console navigateur pour plus de d\xe9tails."})]}):0===e.length?(0,n.jsx)("div",{children:"Aucun logement disponible pour le moment."}):(0,n.jsx)("div",{className:"grid grid-cols-3",children:e.map(e=>(0,n.jsx)(i.default,{href:"/logements/".concat(e.slug),children:(0,n.jsx)(l.Jj,{property:e})},e.id))})]})}),(0,n.jsx)(l.dX,{})]})}}},function(e){e.O(0,[53,648,120,971,117,744],function(){return e(e.s=2820)}),_N_E=e.O()}]);