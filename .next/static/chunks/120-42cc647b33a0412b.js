"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{9120:function(e,n,a){a.d(n,{Pm:function(){return j},fl:function(){return v},DK:function(){return x},Jj:function(){return p},dX:function(){return g},sZ:function(){return m}});var r=a(7437),s=a(2265),t=a(7648),i=a(8675),l=a(4445),c=a(2867);let o={name:"Facebook",href:"https://facebook.com/",color:"#1877F2",label:"Visit us on Facebook"},d={name:"Instagram",href:"https://instagram.com/",color:"linear-gradient(135deg, #FD1D1D 0%, #833AB4 100%)",label:"Follow us on Instagram"},u={name:"Airbnb",href:"https://airbnb.com/",color:"#FF5A5F",label:"View our Airbnb listings"};function h(){return(0,r.jsx)("div",{className:"social-links",children:[o,d,u].map(e=>(0,r.jsx)("a",{href:e.href,title:e.name,className:"social-link",target:"_blank",rel:"noopener noreferrer","aria-label":e.label,children:(0,r.jsxs)("svg",{className:"social-icon",viewBox:"0 0 24 24",width:"22",height:"22",fill:"currentColor",children:["Facebook"===e.name&&(0,r.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"}),"Instagram"===e.name&&(0,r.jsx)("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.217.63c-.68.297-1.268.655-1.855 1.242-.586.586-.945 1.175-1.242 1.855-.297.688-.498 1.558-.557 2.836C.008 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.836.297.688.656 1.278 1.242 1.865.586.586 1.177.94 1.855 1.237.688.297 1.56.498 2.837.557C8.333 23.99 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.26 2.836-.557.688-.297 1.268-.656 1.855-1.242.586-.587.94-1.178 1.237-1.856.297-.688.498-1.559.557-2.836.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.26-2.148-.557-2.837-.297-.687-.656-1.267-1.242-1.853-.586-.586-1.178-.94-1.856-1.237-.688-.297-1.559-.498-2.836-.557C15.667.008 15.26 0 12 0zm0 2.16c3.203 0 3.585.009 4.849.07 1.171.054 1.805.244 2.227.408.56.217.96.477 1.382.896.419.42.679.822.896 1.381.164.422.354 1.057.408 2.227.061 1.264.07 1.645.07 4.849 0 3.203-.009 3.585-.07 4.849-.054 1.171-.244 1.805-.408 2.227-.217.56-.477.96-.896 1.382-.42.419-.822.679-1.381.896-.422.164-1.057.354-2.227.408-1.264.061-1.645.07-4.849.07-3.203 0-3.585-.009-4.849-.07-1.171-.054-1.805-.244-2.227-.408-.56-.217-.96-.477-1.382-.896-.419-.42-.679-.822-.896-1.381-.164-.422-.354-1.057-.408-2.227-.061-1.264-.07-1.645-.07-4.849 0-3.203.009-3.585.07-4.849.054-1.171.244-1.805.408-2.227.217-.56.477-.96.896-1.382.42-.419.822-.679 1.381-.896.422-.164 1.057-.354 2.227-.408 1.264-.061 1.645-.07 4.849-.07zM5.838 12a6.162 6.162 0 1 1 12.324 0 6.162 6.162 0 0 1-12.324 0zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm4.965-10.322a1.44 1.44 0 1 1 2.881.001 1.44 1.44 0 0 1-2.881-.001z"}),"Airbnb"===e.name&&(0,r.jsx)("path",{d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm0 2c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10zm0 2.5c2.07 0 3.75 1.68 3.75 3.75s-1.68 3.75-3.75 3.75-3.75-1.68-3.75-3.75 1.68-3.75 3.75-3.75zm0 7.5c2.49 0 4.5 2.01 4.5 4.5 0 1.24-.5 2.36-1.3 3.2-.3.3-.8.5-1.2.5-.4 0-.9-.2-1.2-.5-.5-.5-.8-1.2-.8-2v-2c0-.55.45-1 1-1s1 .45 1 1v1.5c.2-.1.4-.2.6-.2s.4.1.6.2v-1.5c0-.55.45-1 1-1s1 .45 1 1v2c0 .8-.3 1.5-.8 2-.3.3-.8.5-1.2.5-.4 0-.9-.2-1.2-.5-.8-.84-1.3-1.96-1.3-3.2 0-2.49 2.01-4.5 4.5-4.5z"})]})},e.name))})}function f(){return(0,r.jsxs)("div",{className:"social-links-footer",children:[(0,r.jsx)("span",{className:"social-footer-label",children:"Nous suivre"}),[{name:"Facebook",href:"https://facebook.com/"},{name:"Instagram",href:"https://instagram.com/"},{name:"Airbnb",href:"https://airbnb.com/"}].map(e=>(0,r.jsx)("a",{href:e.href,title:e.name,className:"social-link-footer",target:"_blank",rel:"noopener noreferrer","aria-label":"Visit our ".concat(e.name),children:e.name},e.name))]})}function m(){let[e,n]=(0,s.useState)(null);async function a(){let e=(0,i.e)();await (0,l.w7)(e),window.location.href="/"}return(0,s.useEffect)(()=>{(async()=>{let e=(0,i.e)(),{data:{user:a}}=await e.auth.getUser();n(a)})()},[]),(0,r.jsx)("header",{className:"header",children:(0,r.jsxs)("nav",{className:"nav-container",children:[(0,r.jsx)(t.default,{href:"/",className:"logo",children:"JuraGites"}),(0,r.jsxs)("div",{className:"nav-center",children:[(0,r.jsx)(t.default,{href:"/logements",children:"Logements"}),(0,r.jsx)(t.default,{href:"/activites",children:"Activit\xe9s"})]}),(0,r.jsxs)("div",{className:"nav-right",children:[(0,r.jsx)(t.default,{href:"/admin/dashboard",className:"btn-celia-nav",children:"⚙️ C\xe9lia – Gestion"}),c.D&&(0,r.jsx)(t.default,{href:"/admin",className:"btn-primary",style:{background:"#fbbf24",color:"#000"},children:"\uD83D\uDC68‍\uD83D\uDCBB Admin (dev)"}),e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.default,{href:"/app",children:"Tableau de bord"}),(0,r.jsx)("button",{onClick:()=>a(),className:"btn-secondary",children:"D\xe9connexion"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.default,{href:"/login",children:"Connexion"}),(0,r.jsx)(t.default,{href:"/signup",className:"btn-primary",children:"Inscription"})]}),(0,r.jsx)(h,{})]})]})})}function x(){let[e,n]=(0,s.useState)(null);async function a(){let e=(0,i.e)();await (0,l.w7)(e),window.location.href="/"}return(0,s.useEffect)(()=>{(async()=>{let e=(0,i.e)(),{data:{user:a}}=await e.auth.getUser();n(a)})()},[]),(0,r.jsx)("header",{className:"header",children:(0,r.jsxs)("nav",{className:"nav-container",children:[(0,r.jsx)(t.default,{href:"/",className:"logo",children:"JuraGites"}),(0,r.jsxs)("div",{className:"nav-links",children:[(0,r.jsx)(t.default,{href:"/app",children:"R\xe9servations"}),(0,r.jsx)(t.default,{href:"/app/profile",children:"Profil"}),(0,r.jsx)("button",{onClick:a,className:"btn-secondary",children:"D\xe9connexion"})]})]})})}function j(){let[e,n]=(0,s.useState)(null);async function a(){let e=(0,i.e)();await (0,l.w7)(e),window.location.href="/"}return(0,s.useEffect)(()=>{(async()=>{let e=(0,i.e)(),{data:{user:a}}=await e.auth.getUser();n(a)})()},[]),(0,r.jsx)("header",{className:"admin-header",children:(0,r.jsxs)("nav",{className:"nav-container",children:[(0,r.jsx)(t.default,{href:"/admin",className:"logo",children:"JuraGites Admin"}),(0,r.jsxs)("div",{className:"nav-links",children:[(0,r.jsx)(t.default,{href:"/admin/logements",children:"Logements"}),(0,r.jsx)(t.default,{href:"/admin/reservations",children:"R\xe9servations"}),(0,r.jsx)("button",{onClick:a,className:"btn-secondary",children:"D\xe9connexion"})]})]})})}function p(e){var n;let{property:a,onClick:s}=e;return(0,r.jsxs)("div",{className:"property-card",onClick:s,children:[(0,r.jsx)("div",{className:"property-image",children:(0,r.jsxs)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",textAlign:"center",padding:"1rem"},children:["\uD83D\uDCF8 ",a.title]})}),(0,r.jsxs)("div",{className:"property-info",children:[(0,r.jsx)("h3",{children:a.title}),(0,r.jsx)("p",{className:"location",children:a.location}),(0,r.jsxs)("p",{className:"price",children:[a.price_per_night,"€ / nuit"]}),(0,r.jsxs)("p",{className:"description",children:[null===(n=a.description)||void 0===n?void 0:n.substring(0,80),"..."]})]})]})}function v(e){let{propertyId:n,onSubmit:a,loading:t}=e,[i,l]=(0,s.useState)(""),[c,o]=(0,s.useState)(""),[d,u]=(0,s.useState)(1),[h,f]=(0,s.useState)(""),m=async e=>{if(e.preventDefault(),f(""),!i||!c){f("Veuillez remplir toutes les dates");return}if(new Date(c)<=new Date(i)){f("La date de d\xe9part doit \xeatre apr\xe8s la date d'arriv\xe9e");return}await a({checkIn:i,checkOut:c,numGuests:d})};return(0,r.jsxs)("form",{onSubmit:m,className:"booking-form",children:[h&&(0,r.jsx)("div",{className:"error-message",children:h}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Arriv\xe9e"}),(0,r.jsx)("input",{type:"date",value:i,onChange:e=>l(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"D\xe9part"}),(0,r.jsx)("input",{type:"date",value:c,onChange:e=>o(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Nombre de personnes"}),(0,r.jsx)("input",{type:"number",min:"1",value:d,onChange:e=>u(parseInt(e.target.value)),required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:t,className:"btn-primary",children:t?"Envoi...":"Demander une r\xe9servation"})]})}function g(){let e=new Date().getFullYear();return(0,r.jsx)("footer",{className:"footer",children:(0,r.jsxs)("div",{className:"footer-container",children:[(0,r.jsxs)("div",{className:"footer-content",children:[(0,r.jsxs)("div",{className:"footer-section",children:[(0,r.jsx)("h3",{children:"JuraGites"}),(0,r.jsx)("p",{children:"D\xe9couvrez nos g\xeetes de vacances meubl\xe9s de luxe dans le Jura."})]}),(0,r.jsxs)("div",{className:"footer-section",children:[(0,r.jsx)("h4",{children:"Liens utiles"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(t.default,{href:"/logements",children:"Logements"})}),(0,r.jsx)("li",{children:(0,r.jsx)(t.default,{href:"/activites",children:"Activit\xe9s"})}),(0,r.jsx)("li",{children:(0,r.jsx)(t.default,{href:"/login",children:"Connexion"})})]})]}),(0,r.jsxs)("div",{className:"footer-section",children:[(0,r.jsx)("h4",{children:"Contact"}),(0,r.jsx)("p",{children:"Email: info@juragites.com"}),(0,r.jsx)("p",{children:"T\xe9l: +33 (0) 3 XX XX XX XX"})]})]}),(0,r.jsx)(f,{}),(0,r.jsx)("div",{className:"footer-bottom",children:(0,r.jsxs)("p",{children:["\xa9 ",e," JuraGites. Tous droits r\xe9serv\xe9s."]})})]})})}},2867:function(e,n,a){a.d(n,{D:function(){return r}});let r=!0},4445:function(e,n,a){async function r(e,n,a,r){try{let s="".concat(window.location.origin,"/login?verified=true"),{data:t,error:i}=await e.auth.signUp({email:n,password:a,options:{emailRedirectTo:s,data:{full_name:r}}});if(i)throw i;if(t.user){let{error:a}=await e.from("profiles").insert([{id:t.user.id,email:n,full_name:r,is_client:!0}]);a&&console.error("Error creating profile:",a);let{error:s}=await e.from("loyalty_accounts").insert([{client_id:t.user.id,points_balance:0}]);s&&console.error("Error creating loyalty account:",s)}return{data:t,error:null}}catch(e){return{data:null,error:e}}}async function s(e,n,a){try{let{data:r,error:s}=await e.auth.signInWithPassword({email:n,password:a});if(s)throw s;return{data:r,error:null}}catch(e){return{data:null,error:e}}}async function t(e){try{let{error:n}=await e.auth.signOut();if(n)throw n;return{error:null}}catch(e){return{error:e}}}a.d(n,{w7:function(){return t},y1:function(){return r},zB:function(){return s}})},8675:function(e,n,a){a.d(n,{e:function(){return t}});var r=a(3053);let s=null,t=()=>s||(s=(0,r.eI)("https://kcvgxxqvhfcgifymgpji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtjdmd4eHF2aGZjZ2lmeW1ncGppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzMDAxMzAsImV4cCI6MjA4Mzg3NjEzMH0.3D1oyy3CzLDn6ElP351fdyuHzG5tdn9ISO1oRu1o8JE"));t()}}]);