(()=>{var e={};e.id=427,e.ids=[427],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4757:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>o}),t(6660),t(7764),t(5866);var a=t(3191),i=t(8716),n=t(7922),r=t.n(n),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6660)),"/workspaces/Juragitesholiday/app/admin/dashboard/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7764)),"/workspaces/Juragitesholiday/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/Juragitesholiday/app/admin/dashboard/page.js"],h="/admin/dashboard/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2401:(e,s,t)=>{Promise.resolve().then(t.bind(t,1548))},1548:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(326),i=t(7577),n=t(434),r=t(3768);t(2845);let l=[{id:"1",slug:"gite-montagne-vue",title:"G\xeete de Montagne",price:150},{id:"2",slug:"maison-lac-proximite",title:"Maison Proximit\xe9 Lac",price:120},{id:"3",slug:"chalet-des-sapins",title:"Chalet des Sapins",price:320},{id:"4",slug:"maison-du-lac",title:"Maison du Lac",price:210}],c=[{id:1,property:"G\xeete de Montagne",checkin:"2026-01-15",checkout:"2026-01-20",nights:5,price:150,total:750,status:"confirmed",source:"website"},{id:2,property:"Maison du Lac",checkin:"2026-01-18",checkout:"2026-01-25",nights:7,price:210,total:1470,status:"confirmed",source:"airbnb"},{id:3,property:"Chalet des Sapins",checkin:"2026-02-01",checkout:"2026-02-08",nights:7,price:320,total:2240,status:"pending",source:"website"},{id:4,property:"Maison Proximit\xe9",checkin:"2026-01-20",checkout:"2026-01-22",nights:2,price:120,total:240,status:"confirmed",source:"website"},{id:5,property:"G\xeete de Montagne",checkin:"2026-02-10",checkout:"2026-02-15",nights:5,price:150,total:750,status:"cancelled",source:"website"}],o=[{id:1,type:"m\xe9nage",amount:150,property:"G\xeete de Montagne",date:"2026-01-15"},{id:2,type:"\xe9lectricit\xe9",amount:200,property:null,date:"2026-01-10"},{id:3,type:"entretien",amount:300,property:"Chalet des Sapins",date:"2026-01-12"}],d=[{property:"Maison du Lac",nights:10,price:210},{property:"G\xeete de Montagne",nights:5,price:150},{property:"Chalet des Sapins",nights:7,price:320}],h=()=>{let e=c.filter(e=>"confirmed"===e.status),s=c.filter(e=>"pending"===e.status),t=c.filter(e=>"cancelled"===e.status),a=e.reduce((e,s)=>e+s.total,0);s.reduce((e,s)=>e+s.total,0);let i=d.reduce((e,s)=>e+s.nights*s.price,0),n=o.reduce((e,s)=>e+s.amount,0),r=c.filter(e=>"website"===e.source).length,l=c.filter(e=>"airbnb"===e.source).length;return{totalVisits:1247,totalUsers:89,totalBookings:c.length,totalCancellations:t.length,totalCA:a,caEncashed:.8*a,caFuture:i,totalCharges:n,confirmed:e.length,pending:s.length,cancelled:t.length,totalDeposits:.2*a,remainingCA:.2*a,websiteBookings:r,airbnbBookings:l}};function u({title:e,value:s,subtitle:t,trend:i}){return(0,a.jsxs)("div",{className:"kpi-card","data-animation":"fade-slide",children:[(0,a.jsxs)("div",{className:"kpi-content",children:[a.jsx("h3",{className:"kpi-title",children:e}),a.jsx("div",{className:"kpi-value",children:s}),t&&a.jsx("p",{className:"kpi-subtitle",children:t})]}),i&&(0,a.jsxs)("div",{className:`kpi-trend ${i>0?"positive":"negative"}`,children:[i>0?"↑":"↓"," ",Math.abs(i),"%"]})]})}function m({property:e,stats:s}){let t=s.propertyStats[e.slug]||{views:0,bookings:0,cancellations:0,ca:0,caEncashed:0,caFuture:0};return(0,a.jsxs)("div",{className:"property-stat-card",children:[a.jsx("h4",{children:e.title}),(0,a.jsxs)("div",{className:"stat-row",children:[a.jsx("span",{children:"Vues:"}),a.jsx("strong",{children:t.views})]}),(0,a.jsxs)("div",{className:"stat-row",children:[a.jsx("span",{children:"R\xe9servations:"}),a.jsx("strong",{children:t.bookings})]}),(0,a.jsxs)("div",{className:"stat-row",children:[a.jsx("span",{children:"Annulations:"}),a.jsx("strong",{children:t.cancellations})]}),(0,a.jsxs)("div",{className:"stat-row",children:[a.jsx("span",{children:"CA g\xe9n\xe9r\xe9:"}),(0,a.jsxs)("strong",{children:[t.ca,"€"]})]}),(0,a.jsxs)("div",{className:"stat-row",children:[a.jsx("span",{children:"CA encaiss\xe9:"}),(0,a.jsxs)("strong",{children:[t.caEncashed,"€"]})]}),(0,a.jsxs)("div",{className:"stat-row",children:[a.jsx("span",{children:"CA pr\xe9visionnel:"}),(0,a.jsxs)("strong",{style:{color:"#059669"},children:[t.caFuture,"€"]})]})]})}function p({onAddCharge:e}){let[s,t]=(0,i.useState)({type:"m\xe9nage",amount:"",property:"",date:new Date().toISOString().split("T")[0]});return(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault(),s.amount&&(e({id:Date.now(),...s,amount:parseFloat(s.amount)}),t({type:"m\xe9nage",amount:"",property:"",date:new Date().toISOString().split("T")[0]}))},className:"charge-form",children:[(0,a.jsxs)("div",{className:"form-row",children:[(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Type de charge"}),(0,a.jsxs)("select",{value:s.type,onChange:e=>t({...s,type:e.target.value}),children:[a.jsx("option",{value:"m\xe9nage",children:"M\xe9nage"}),a.jsx("option",{value:"entretien",children:"Entretien"}),a.jsx("option",{value:"\xe9lectricit\xe9",children:"\xc9lectricit\xe9"}),a.jsx("option",{value:"eau",children:"Eau"}),a.jsx("option",{value:"chauffage",children:"Chauffage"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Montant"}),a.jsx("input",{type:"number",step:"0.01",value:s.amount,onChange:e=>t({...s,amount:e.target.value}),placeholder:"0.00",required:!0})]})]}),(0,a.jsxs)("div",{className:"form-row",children:[(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Logement (optionnel)"}),(0,a.jsxs)("select",{value:s.property,onChange:e=>t({...s,property:e.target.value}),children:[a.jsx("option",{value:"",children:"-- Tous les logements --"}),l.map(e=>a.jsx("option",{value:e.title,children:e.title},e.id))]})]}),(0,a.jsxs)("div",{className:"form-group",children:[a.jsx("label",{children:"Date"}),a.jsx("input",{type:"date",value:s.date,onChange:e=>t({...s,date:e.target.value})})]})]}),a.jsx("button",{type:"submit",className:"btn-submit",children:"+ Ajouter charge"})]})}function x(){let[e,s]=(0,i.useState)(o),t=(0,i.useRef)(null),x=h(),g={};l.forEach(e=>{let s=c.filter(s=>s.property.toLowerCase().includes(e.title.split(" ")[0].toLowerCase())||e.title.includes(s.property.split(" ")[0])),t=s.filter(e=>"confirmed"===e.status),a=s.filter(e=>"cancelled"===e.status);g[e.slug]={views:Math.floor(500*Math.random())+50,bookings:t.length,cancellations:a.length,ca:t.reduce((e,s)=>e+s.total,0),caEncashed:.8*t.reduce((e,s)=>e+s.total,0),caFuture:d.filter(s=>s.property===e.title).reduce((e,s)=>e+s.nights*s.price,0)}});let v={...x,propertyStats:g},b=e.reduce((e,s)=>e+s.amount,0);return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.Pm,{}),(0,a.jsxs)("div",{className:"admin-dashboard",children:[(0,a.jsxs)("div",{className:"dashboard-header","data-animation":"fade",children:[a.jsx("h1",{children:"JuraGites Admin"}),a.jsx("p",{children:"G\xe9rez vos logements, r\xe9servations et finances en temps r\xe9el"}),(0,a.jsxs)("div",{className:"header-actions",children:[a.jsx("button",{onClick:()=>{t.current?.scrollIntoView({behavior:"smooth",block:"start"})},className:"btn-celia",children:"✨ C\xe9lia, pour ta gestion c'est ici"}),a.jsx(n.default,{href:"/admin/logements",className:"btn-secondary",children:"\uD83C\uDFE0 Gestion des logements"})]})]}),(0,a.jsxs)("section",{className:"dashboard-section","data-animation":"fade-slide",children:[a.jsx("h2",{children:"\uD83D\uDCCA KPIs Globaux"}),(0,a.jsxs)("div",{className:"kpi-grid",children:[a.jsx(u,{title:"Visites du site",value:x.totalVisits.toLocaleString(),subtitle:"derniers 30 jours",trend:12}),a.jsx(u,{title:"Utilisateurs inscrits",value:x.totalUsers,subtitle:"total plateforme",trend:8}),a.jsx(u,{title:"R\xe9servations confirm\xe9es",value:x.confirmed,subtitle:`${x.totalBookings} r\xe9servations au total`}),a.jsx(u,{title:"Taux d'annulation",value:`${(x.totalCancellations/x.totalBookings*100).toFixed(1)}%`,subtitle:x.totalCancellations>0?`${x.totalCancellations} annul\xe9e(s)`:"Aucune",trend:-5}),a.jsx(u,{title:"Chiffre d'affaires",value:`€${x.totalCA.toLocaleString()}`,subtitle:"montant confirm\xe9"}),a.jsx(u,{title:"CA encaiss\xe9",value:`€${x.caEncashed.toLocaleString()}`,subtitle:`${(x.caEncashed/x.totalCA*100).toFixed(0)}% du CA`}),a.jsx(u,{title:"CA pr\xe9visionnel",value:`€${x.caFuture.toLocaleString()}`,subtitle:"r\xe9servations \xe0 venir"}),a.jsx(u,{title:"Charges mensuelles",value:`€${b.toLocaleString()}`,subtitle:"impact sur rentabilit\xe9"})]})]}),(0,a.jsxs)("section",{className:"dashboard-section","data-animation":"fade-slide",children:[a.jsx("h2",{children:"\uD83D\uDCCB R\xe9sum\xe9 R\xe9servations"}),(0,a.jsxs)("div",{className:"summary-grid",children:[(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-number",children:x.confirmed}),a.jsx("div",{className:"summary-label",children:"Confirm\xe9es"}),(0,a.jsxs)("div",{className:"summary-value",children:["€",j.reduce((e,s)=>e+s.total,0).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-number",children:x.pending}),a.jsx("div",{className:"summary-label",children:"En attente"}),(0,a.jsxs)("div",{className:"summary-value",children:["€",c.filter(e=>"pending"===e.status).reduce((e,s)=>e+s.total,0).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-number",children:x.cancelled}),a.jsx("div",{className:"summary-label",children:"Annul\xe9es"}),(0,a.jsxs)("div",{className:"summary-value",children:[(x.cancelled/x.totalBookings*100).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"summary-card",children:[(0,a.jsxs)("div",{className:"summary-number",children:["€",x.totalDeposits.toFixed(0)]}),a.jsx("div",{className:"summary-label",children:"Acomptes re\xe7us"}),a.jsx("div",{className:"summary-value",children:"20% du CA"})]}),(0,a.jsxs)("div",{className:"summary-card",children:[(0,a.jsxs)("div",{className:"summary-number",children:["€",x.remainingCA.toFixed(0)]}),a.jsx("div",{className:"summary-label",children:"\xc0 encaisser"}),a.jsx("div",{className:"summary-value",children:"80% du CA"})]})]})]}),(0,a.jsxs)("section",{className:"dashboard-section","data-animation":"fade-slide",children:[a.jsx("h2",{children:"\uD83C\uDFE0 Performance par Logement"}),a.jsx("div",{className:"property-grid",children:l.map(e=>a.jsx(m,{property:e,stats:v},e.id))})]}),(0,a.jsxs)("section",{className:"dashboard-section","data-animation":"fade-slide",children:[a.jsx("h2",{children:"\uD83C\uDF10 Origine des R\xe9servations"}),(0,a.jsxs)("div",{className:"chart-container",children:[(0,a.jsxs)("div",{className:"pie-chart-mock",children:[a.jsx("div",{className:"pie-segment",style:{width:`${x.websiteBookings/x.totalBookings*100}%`,backgroundColor:"#0070F3"},children:(0,a.jsxs)("span",{className:"pie-label",children:["Site Web: ",x.websiteBookings]})}),a.jsx("div",{className:"pie-segment",style:{width:`${x.airbnbBookings/x.totalBookings*100}%`,backgroundColor:"#8B92A9"},children:(0,a.jsxs)("span",{className:"pie-label",children:["Airbnb: ",x.airbnbBookings]})})]}),(0,a.jsxs)("div",{className:"chart-legend",children:[(0,a.jsxs)("div",{className:"legend-item",children:[a.jsx("span",{className:"legend-color",style:{backgroundColor:"#0070F3"}}),(0,a.jsxs)("span",{children:["Site Web: ",x.websiteBookings," (",(x.websiteBookings/x.totalBookings*100).toFixed(0),"%)"]})]}),(0,a.jsxs)("div",{className:"legend-item",children:[a.jsx("span",{className:"legend-color",style:{backgroundColor:"#8B92A9"}}),(0,a.jsxs)("span",{children:["Airbnb: ",x.airbnbBookings," (",(x.airbnbBookings/x.totalBookings*100).toFixed(0),"%)"]})]})]})]})]}),(0,a.jsxs)("section",{className:"dashboard-section","data-animation":"fade-slide",ref:t,children:[a.jsx("h2",{children:"\uD83D\uDCB0 Gestion des Charges (C\xe9lia)"}),a.jsx("p",{className:"section-subtitle",children:"Saisir et analyser toutes vos d\xe9penses"}),a.jsx(p,{onAddCharge:t=>s([...e,t])}),(0,a.jsxs)("div",{className:"charges-table",children:[a.jsx("h3",{children:"Charges enregistr\xe9es"}),(0,a.jsxs)("table",{children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Logement"}),a.jsx("th",{children:"Montant"}),a.jsx("th",{children:"Impact CA"})]})}),a.jsx("tbody",{children:e.map(e=>{let s=e.property?g[l.find(s=>s.title===e.property)?.slug]?.ca||0:x.totalCA,t=(e.amount/s*100).toFixed(1);return(0,a.jsxs)("tr",{children:[a.jsx("td",{children:e.date}),a.jsx("td",{className:"charge-type-badge",children:e.type}),a.jsx("td",{children:e.property||"---"}),(0,a.jsxs)("td",{className:"amount",children:["€",e.amount.toFixed(2)]}),(0,a.jsxs)("td",{style:{color:t>10?"#DC2626":"#059669"},children:["-",t,"%"]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"charges-summary",children:[a.jsx("span",{children:"Total charges:"}),(0,a.jsxs)("strong",{children:["€",b.toFixed(2)]}),a.jsx("span",{children:"Marge nette:"}),(0,a.jsxs)("strong",{style:{color:"#059669"},children:["€",(x.totalCA-b).toFixed(2)]})]})]})]}),(0,a.jsxs)("section",{className:"dashboard-section","data-animation":"fade-slide",children:[a.jsx("h2",{children:"\uD83D\uDD2E Pr\xe9visions & Export Comptable"}),(0,a.jsxs)("div",{className:"forecast-container",children:[(0,a.jsxs)("div",{className:"forecast-card",children:[a.jsx("h3",{children:"Pr\xe9vision CA (Janvier 2026)"}),a.jsx("div",{className:"forecast-bar",children:a.jsx("div",{className:"forecast-fill",style:{width:"65%"}})}),(0,a.jsxs)("div",{className:"forecast-text",children:[(0,a.jsxs)("strong",{children:["€",x.caFuture.toLocaleString()]})," estim\xe9",(0,a.jsxs)("span",{children:["(bas\xe9 sur ",d.length," r\xe9servations confirm\xe9es)"]})]})]}),(0,a.jsxs)("div",{className:"forecast-card",children:[a.jsx("h3",{children:"Analyse Rentabilit\xe9"}),(0,a.jsxs)("div",{className:"rentability-items",children:[(0,a.jsxs)("div",{className:"item",children:[a.jsx("span",{children:"CA g\xe9n\xe9r\xe9:"}),(0,a.jsxs)("strong",{children:["€",x.totalCA.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"item",children:[a.jsx("span",{children:"Charges:"}),(0,a.jsxs)("strong",{children:["-€",b.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"item divider",children:[a.jsx("span",{children:"Marge nette:"}),(0,a.jsxs)("strong",{style:{color:"#059669"},children:["€",(x.totalCA-b).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"item",children:[a.jsx("span",{children:"Rentabilit\xe9:"}),(0,a.jsxs)("strong",{children:[((x.totalCA-b)/x.totalCA*100).toFixed(1),"%"]})]})]})]})]}),(0,a.jsxs)("div",{className:"export-section",children:[a.jsx("button",{className:"btn-export",onClick:()=>{let s=new Blob([`Date,Type,Propri\xe9t\xe9,Montant
${e.map(e=>`${e.date},${e.type},${e.property||"N/A"},${e.amount}`).join("\n")}`],{type:"text/csv"}),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`charges_${new Date().toISOString().split("T")[0]}.csv`,a.click()},children:"\uD83D\uDCE5 Exporter Charges (CSV)"}),a.jsx("button",{className:"btn-export",onClick:()=>{let e=new Blob([`Date,Logement,Statut,Prix Total,Source
${c.map(e=>`${e.checkin},${e.property},${e.status},${e.total},${e.source}`).join("\n")}`],{type:"text/csv"}),s=window.URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=`reservations_${new Date().toISOString().split("T")[0]}.csv`,t.click()},children:"\uD83D\uDCE5 Exporter R\xe9servations (CSV)"})]})]})]})]})}let j=c.filter(e=>"confirmed"===e.status)},6660:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/workspaces/Juragitesholiday/app/admin/dashboard/page.js#default`)},2845:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[819,157,434,999],()=>t(4757));module.exports=a})();